<mat-sidenav-container >
    <mat-sidenav
    #drawer class="sidenav d-flex flex-nowrap" fixedInViewport = "true"
        [attr.role] = "(isHandset | async) ? 'dialog' : 'navigation'"
        [mode] = "(isHandset | async) ? 'over' : 'side'"
        [opened] = "!(isHandset | async)"
    >
        <main class="d-flex flex-nowrap">
            <div class="d-flex flex-column flex-shrink-0 p-3 bg-light" style="width: 280px;">
                
                <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
                  <img class="bi pe-none me-2" width="40" height="32" src="../../../assets/img/garage (2).png" >
                  <span class="fs-4">Garage</span>
                </a>
                <hr>
                <mat-nav-list class="nav nav-pills flex-column mb-auto">
                    <a mat-list-item *ngFor="let menu of menus" [routerLink]="menu.link" routerLinkActive="is-active">
                      <mat-icon matListItemIcon>{{menu.icon}}</mat-icon>
                      <div matListItemTitle>{{menu.name}}</div>
                    </a>
                    <mat-divider></mat-divider>
                </mat-nav-list>
                <hr>
                <div class="dropdown">
                    <!--  -->
                    <mat-nav-list class="nav nav-pills flex-column">
                        <mat-list-item (click)="logout()" >
                            <mat-icon matListItemIcon>exit_to_app</mat-icon>
                            <div matListItemTitle>Se déconnecter</div>
                          </mat-list-item>
                    </mat-nav-list>
                    
                </div>
              </div>
              
        </main>
        
    </mat-sidenav>
   
    <mat-sidenav-content class="sidenav-content">
       <mat-toolbar class="header" #header >
            <button
                type="button"
                aria-label="Toggle sidenav"
                mat-icon-button
                (click) = "drawer.toggle()"
            >
                <!-- <mat-icon aria-label="Side nav toggle icon" >{{ drawer.opened ? 'keyboard_arrow_left' : 'keyboard_arrow_right' }}</mat-icon> -->
                <mat-icon aria-label="Side nav toggle icon" >menu</mat-icon>
            </button>
            <span *ngIf="!drawer.opened" > <img class="bi pe-none me-2" width="40" height="32" src="../../../assets/img/garage (2).png" > Garage</span>
            <span class="example-spacer"></span>
            
            <mat-nav-list class="nav nav-pills flex-column mb-auto">
                <mat-list-item [matMenuTriggerFor]="menu">
                    <img matListItemIcon src="../../../assets/img/man.png" alt="" width="60" height="60" class="rounded-circle me-2"> 
                    <div matListItemTitle>Jean</div>
                  </mat-list-item>
            </mat-nav-list>
            <mat-menu #menu="matMenu">
                <button mat-menu-item>
                  <mat-icon>account_circle</mat-icon>
                  <span>Mon profil</span>
                </button>
                <button mat-menu-item (click)="logout()" >
                  <mat-icon>exit_to_app</mat-icon>
                  <span>Se déconnecter</span>
                </button>
            </mat-menu>
        </mat-toolbar>
        <div class="container-fluid" style="min-height: 490px;" #mainContent >
            <router-outlet></router-outlet>
        </div>
        <br><br>
        <footer class="footer" #footer>
            <div>
                <p>
                    © 2023  Rakotoarimalala Rovantsoa Tsiory  -  Rakotomamonjy Nambinina Henintsoa Alicia
                </p>
            </div>
        </footer>
        
    </mat-sidenav-content>
</mat-sidenav-container>

